---
title: "function 函数"
weight: 50
---



# function 函数



## 函数定义

```bash
#!/bin/bash

function foo() {
  echo "foo function"
}

# function 可写可不写
bar() {
  echo "bar function"
  # 默认是最后一条命令的运行结果
  # 只能返回数字，范围 0~255
  return 255
}

# 调用两个函数
foo
# foo 函数的返回 code
echo $?

bar
# bar 函数的返回 code
echo $?
```

> 【输出】
>
> foo function  
> 0  
> bar function  
> 255  



## 函数参数

> 同 Shell 文件参数，@see [变量与参数](../010.var/)



### 取值

| 取参 | 描述                                                         |
| :--: | ------------------------------------------------------------ |
| `$#` | 传递到脚本或函数的参数个数                                   |
| `$*` | 以一个单字符串显示所有向脚本传递的参数                       |
| `$@` | 每个参数，参数列表                                           |
|      |                                                              |
| `$$` | 脚本运行的当前进程ID号                                       |
| `$!` | 后台运行的最后一个进程的ID号                                 |
| `$-` | 显示Shell使用的当前选项，与set命令功能相同。                 |
| `$?` | 显示最后命令的退出状态。0 表示没有错误，其他任何值表明有错误。 |



### 示例

```bash
function param() {
    echo "当前 shell 文件名 ： $0"
    echo "当前函数第 1 个参数：  $1"
    echo "当前函数第 10个参数：  ${10}"
    echo ""
    echo "当前函数参数个数   ：  $#"
    echo "当前函数'所有'参数 ：  $*"
    echo "当前函数'每个'参数 ：  $@"
    echo ""
    echo "当前进程ID       ：   $$"
    echo "最后一个进程ID    ：   $!"
    echo "当前选项         ：   $-"
    echo "退出状态         ：   $?"
}

param 11 22 33 44 55 66 77 88 99 1010 1111
```

> 【输出】
>
> 当前 shell 文件名 ： ./function.sh  
> 当前函数第 1 个参数：  11   
> 当前函数第 10个参数：  1010   
>
> 当前函数参数个数   ：  11  
> 当前函数'所有'参数 ：  11 22 33 44 55 66 77 88 99 1010 1111  
> 当前函数'每个'参数 ：  11 22 33 44 55 66 77 88 99 1010 1111  
>
> 当前进程ID       ：   55176  
> 最后一个进程ID    ：   
> 当前选项         ：   hB  
> 退出状态         ：   0  